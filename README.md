# AI Agent CLI

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ AI ç¼–ç¨‹åŠ©æ‰‹å‘½ä»¤è¡Œå·¥å…·ï¼Œæ”¯æŒå¤šä¸ª LLM æä¾›å•†ï¼ˆAnthropic Claudeã€OpenAIã€Google Geminiï¼‰ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¤– å¤šæä¾›å•†æ”¯æŒ
- **Anthropic Claude**: Claude 3.5 Sonnet, Claude 3 Opus
- **OpenAI**: GPT-4, GPT-3.5 Turbo
- **Google Gemini**: Gemini 1.5 Pro, Gemini 1.5 Flash

### ğŸ› ï¸ 15 ä¸ªå¼ºå¤§å·¥å…·

#### åŸºç¡€æ–‡ä»¶æ“ä½œ
- **bash** - æ‰§è¡Œ Shell å‘½ä»¤
- **read_file** - è¯»å–æ–‡ä»¶å†…å®¹
- **write_file** - åˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶
- **edit_file** - ç²¾ç¡®ç¼–è¾‘æ–‡ä»¶

#### é«˜æ•ˆæœç´¢
- **Glob** - å¿«é€Ÿæ–‡ä»¶æ¨¡å¼åŒ¹é…ï¼ˆæ”¯æŒ `**/*.ts` ç­‰æ¨¡å¼ï¼‰
- **Grep** - æ­£åˆ™è¡¨è¾¾å¼å†…å®¹æœç´¢ï¼ˆæ”¯æŒä¸Šä¸‹æ–‡è¡Œï¼‰

#### æ™ºèƒ½äº¤äº’
- **AskUserQuestion** - ç»“æ„åŒ–æé—®ï¼ˆå•é€‰/å¤šé€‰ï¼‰
- **TodoWrite** - ä»»åŠ¡ç®¡ç†å’Œè¿›åº¦è·Ÿè¸ª

#### é«˜çº§åŠŸèƒ½
- **Task** - å¯åŠ¨å­ä»£ç†æ‰§è¡Œå¤æ‚ä»»åŠ¡
- **Skill** - åŠ è½½é¢†åŸŸä¸“ä¸šçŸ¥è¯†
- **EnterPlanMode** - è¿›å…¥è§„åˆ’æ¨¡å¼
- **ExitPlanMode** - é€€å‡ºè§„åˆ’æ¨¡å¼å¹¶æäº¤è®¡åˆ’

#### ç½‘ç»œèƒ½åŠ›
- **WebFetch** - è·å–ç½‘é¡µå†…å®¹å¹¶è½¬æ¢ä¸º Markdown
- **WebSearch** - æœç´¢ç½‘ç»œå†…å®¹ï¼ˆä½¿ç”¨ DuckDuckGoï¼‰

### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **å¹¶è¡Œå·¥å…·æ‰§è¡Œ**: å¤šä¸ªç‹¬ç«‹å·¥å…·åŒæ—¶è¿è¡Œï¼Œæ€§èƒ½æå‡ 2-5 å€
- **æ™ºèƒ½ç¼“å­˜**: å‡å°‘é‡å¤ API è°ƒç”¨
- **æµå¼è¾“å‡º**: å®æ—¶æ˜¾ç¤º AI å“åº”

### ğŸ¨ å¢å¼ºçš„ç”¨æˆ·äº¤äº’
- **å¤šè¡Œè¾“å…¥**: Shift+Enter æ¢è¡Œæ”¯æŒï¼Œè½»æ¾è¾“å…¥é•¿ Prompt
- **å¤–éƒ¨ç¼–è¾‘å™¨**: Ctrl+G æ‰“å¼€å¤–éƒ¨ç¼–è¾‘å™¨ï¼ˆVS Code/Vim/Nanoï¼‰
- **å†å²å¯¼èˆª**: â†‘â†“ ç®­å¤´æµè§ˆå‘½ä»¤å†å²
- **Emacså¿«æ·é”®**: Ctrl+A/E/U/K/W ç­‰ç¼–è¾‘å¿«æ·é”®
- **Token è¿½è¸ª**: å®æ—¶æ˜¾ç¤º Token ä½¿ç”¨æƒ…å†µï¼ˆå·¥å…·å·²å®ç°ï¼‰

### ğŸ¯ å­ä»£ç†ç³»ç»Ÿ
- **explore** - åªè¯»æ¢ç´¢ä»£ç†ï¼ˆå®‰å…¨çš„ä»£ç åº“æ¢ç´¢ï¼‰
- **code** - ä»£ç ç¼–å†™ä»£ç†ï¼ˆå®Œæ•´å·¥å…·è®¿é—®ï¼‰
- **plan** - è§„åˆ’ä»£ç†ï¼ˆè®¾è®¡å®ç°æ–¹æ¡ˆï¼‰

### ğŸ“š æŠ€èƒ½ç³»ç»Ÿ (Production-grade)

#### ç›®å½•ç»“æ„
```
é¡¹ç›®çº§ (.ai-agent/):
â”œâ”€â”€ commands/     # å‘½ä»¤æ–‡ä»¶ (*.md)
â””â”€â”€ skills/       # æŠ€èƒ½ç›®å½• (*/SKILL.md)

ç”¨æˆ·çº§ (~/.ai-agent/):
â”œâ”€â”€ commands/
â”œâ”€â”€ skills/
â””â”€â”€ plugins/
```

#### æŠ€èƒ½æ–‡ä»¶æ ¼å¼
```markdown
---
name: my-skill
description: æŠ€èƒ½æè¿°
when_to_use: AI è‡ªåŠ¨è°ƒç”¨æ¡ä»¶
allowed-tools: [read_file, Glob]
model: sonnet
---
æŠ€èƒ½å†…å®¹ã€‚ä½¿ç”¨ $ARGUMENTS è·å–å‚æ•°ã€‚
```

#### CLI å‘½ä»¤
```bash
/skill list       # åˆ—å‡ºæŠ€èƒ½
/skill install    # å®‰è£… (æœ¬åœ°/GitHub)
/skill uninstall  # å¸è½½
/skill enable     # å¯ç”¨
/skill disable    # ç¦ç”¨
```

### ğŸ”’ å®‰å…¨ç‰¹æ€§
- åªè¯»æ¨¡å¼ï¼ˆexplore ä»£ç†ï¼‰
- è·¯å¾„éªŒè¯å’Œæ²™ç®±ä¿æŠ¤
- å±é™©å‘½ä»¤æ‹¦æˆª

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai-agent-cli/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ entrypoints/             # å…¥å£ç‚¹
â”‚   â”‚   â”œâ”€â”€ cli.ts               # CLI ä¸»å…¥å£
â”‚   â”‚   â””â”€â”€ index.ts             # åº“å¯¼å‡ºå…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒé€»è¾‘ï¼ˆæ—  UI ä¾èµ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts             # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ loop.ts              # ä¸»ä»£ç†å¾ªç¯ï¼ˆæ”¯æŒå¹¶è¡Œå·¥å…·æ‰§è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ agents.ts            # å­ä»£ç†ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ prompts.ts           # ç³»ç»Ÿæç¤ºè¯ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ constants.ts         # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ reminder.ts          # æ™ºèƒ½æé†’ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ planMode.ts          # è§„åˆ’æ¨¡å¼ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ projectContext.ts    # é¡¹ç›®ä¸Šä¸‹æ–‡ç®¡ç†
â”‚   â”‚   â””â”€â”€ outputStyles.ts      # è¾“å‡ºæ ·å¼å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ ai/                  # AI æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ adapters/        # LLM æä¾›å•†é€‚é…å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ base.ts      # æŠ½è±¡åŸºç±»
â”‚   â”‚   â”‚       â”œâ”€â”€ anthropic.ts # Anthropic Claude é€‚é…å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ openai.ts    # OpenAI GPT é€‚é…å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ gemini.ts    # Google Gemini é€‚é…å™¨
â”‚   â”‚   â”‚       â””â”€â”€ factory.ts   # é€‚é…å™¨å·¥å‚
â”‚   â”‚   â”œâ”€â”€ config/              # é…ç½®æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ Config.ts        # é…ç½®ç®¡ç†ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ configStore.ts   # é…ç½®æŒä¹…åŒ–å­˜å‚¨
â”‚   â”‚   â”‚   â”œâ”€â”€ setup.ts         # äº¤äº’å¼é…ç½®å‘å¯¼
â”‚   â”‚   â”‚   â””â”€â”€ types.ts         # é…ç½®ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ system/              # ç³»ç»ŸæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ security.ts      # å®‰å…¨éªŒè¯ï¼ˆè·¯å¾„/å‘½ä»¤æ£€æŸ¥ï¼‰
â”‚   â”‚   â”œâ”€â”€ customCommands.ts    # å‘½ä»¤/æŠ€èƒ½åŠ è½½å™¨ (Production-grade)
â”‚   â”‚   â””â”€â”€ skillMarketplace.ts  # æŠ€èƒ½å¸‚åœº (å®‰è£…/å¸è½½/å¯ç”¨/ç¦ç”¨)
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/                   # å·¥å…·å®ç°ï¼ˆæŒ‰åŠŸèƒ½åˆ†ç»„ï¼‰
â”‚   â”‚   â”œâ”€â”€ definitions.ts       # å·¥å…·å®šä¹‰ï¼ˆJSON Schemaï¼‰
â”‚   â”‚   â”œâ”€â”€ dispatcher.ts        # å·¥å…·åˆ†å‘å™¨
â”‚   â”‚   â”œâ”€â”€ types.ts             # å·¥å…·ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ filesystem/          # æ–‡ä»¶ç³»ç»Ÿå·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ bash.ts          # Bash å‘½ä»¤æ‰§è¡Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ fileOps.ts       # æ–‡ä»¶æ“ä½œï¼ˆread/write/editï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ search/              # æœç´¢å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ glob.ts          # æ–‡ä»¶æ¨¡å¼åŒ¹é…
â”‚   â”‚   â”‚   â”œâ”€â”€ grep.ts          # å†…å®¹æœç´¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ interaction/         # äº¤äº’å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ askQuestion.ts   # ç”¨æˆ·æé—®
â”‚   â”‚   â”‚   â”œâ”€â”€ todo.ts          # ä»»åŠ¡ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ agent/               # ä»£ç†å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ task.ts          # å­ä»£ç†ä»»åŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ planMode.ts      # è§„åˆ’æ¨¡å¼å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ ai/                  # AI å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ skill.ts         # æŠ€èƒ½åŠ è½½ (Production-grade)
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ network/             # ç½‘ç»œå·¥å…·
â”‚   â”‚       â”œâ”€â”€ webFetch.ts      # ç½‘é¡µè·å–
â”‚   â”‚       â”œâ”€â”€ webSearch.ts     # ç½‘ç»œæœç´¢
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                   # é€šç”¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ cursor.ts            # å…‰æ ‡å’Œæ–‡æœ¬æ“ä½œ (Immutable Cursor)
â”‚   â”‚   â”œâ”€â”€ tokenCounter.ts      # Token è®¡æ•°ä¸æ˜¾ç¤º (API usage)
â”‚   â”‚   â”œâ”€â”€ modelConfig.ts       # æ¨¡å‹å‚æ•°é…ç½®
â”‚   â”‚   â””â”€â”€ externalEditor.ts    # å¤–éƒ¨ç¼–è¾‘å™¨é›†æˆ
â”‚   â”‚
â”‚   â””â”€â”€ ui/                      # UI ç»„ä»¶ï¼ˆç‹¬ç«‹äº coreï¼‰
â”‚       â”œâ”€â”€ index.ts             # UI æ¨¡å—å¯¼å‡º
â”‚       â”œâ”€â”€ theme.ts             # ç»ˆç«¯ä¸»é¢˜é…ç½®
â”‚       â”œâ”€â”€ utils.ts             # UI å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ components/          # UI ç»„ä»¶
â”‚           â”œâ”€â”€ Banner.ts        # å¯åŠ¨æ¨ªå¹…
â”‚           â”œâ”€â”€ Input.ts         # è¾“å…¥ç»„ä»¶ï¼ˆåŸºäº Cursor ç±»ï¼‰
â”‚           â”œâ”€â”€ Logo.ts          # Logo æ˜¾ç¤º
â”‚           â”œâ”€â”€ Messages.ts      # æ¶ˆæ¯æ˜¾ç¤º
â”‚           â”œâ”€â”€ Spinner.ts       # æ€è€ƒåŠ¨ç”»
â”‚           â””â”€â”€ ToolDisplay.ts   # å·¥å…·è°ƒç”¨æ˜¾ç¤º
â”‚
â”œâ”€â”€ .ai-agent/                    # é¡¹ç›®çº§æŠ€èƒ½é…ç½®
â”‚   â”œâ”€â”€ skills/                  # æŠ€èƒ½ç›®å½• (*/SKILL.md)
â”‚   â””â”€â”€ commands/                # å‘½ä»¤æ–‡ä»¶ (*.md)
â”‚
â”œâ”€â”€ bin/                          # å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â””â”€â”€ ai-agent-cli.js          # CLI å…¥å£
â”‚
â”œâ”€â”€ dist/                         # ç¼–è¯‘è¾“å‡ºï¼ˆTypeScript â†’ JavaScriptï¼‰
â”‚
â”œâ”€â”€ .env.example                  # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ INSTALLATION.md               # å®‰è£…æŒ‡å—
â”œâ”€â”€ QUICKSTART.md                 # å¿«é€Ÿå¼€å§‹
â””â”€â”€ README.md                     # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-username/ai-agent-cli.git
cd ai-agent-cli

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„ API å¯†é’¥
```

### é…ç½® API å¯†é’¥

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®è‡³å°‘ä¸€ä¸ªæä¾›å•†çš„ API å¯†é’¥ï¼š

```bash
# Anthropic Claude
ANTHROPIC_API_KEY=your_anthropic_key

# OpenAI
OPENAI_API_KEY=your_openai_key

# Google Gemini
GEMINI_API_KEY=your_gemini_key
```

### è¿è¡Œ

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºå¹¶è¿è¡Œ
npm run build
npm start
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€å¯¹è¯

```
>>> å¸®æˆ‘åˆ›å»ºä¸€ä¸ª TypeScript é¡¹ç›®
```

### ä½¿ç”¨å­ä»£ç†

```
>>> ä½¿ç”¨ explore ä»£ç†æŸ¥æ‰¾æ‰€æœ‰ TypeScript æ–‡ä»¶
```

### è§„åˆ’æ¨¡å¼

```
>>> è¿›å…¥è§„åˆ’æ¨¡å¼ï¼Œè®¾è®¡ä¸€ä¸ªç”¨æˆ·è®¤è¯ç³»ç»Ÿ
```

### ç½‘ç»œæœç´¢

```
>>> æœç´¢ React 18 çš„æ–°ç‰¹æ€§
```

## âš™ï¸ é…ç½®

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | å¿…éœ€ |
|--------|------|------|
| `ANTHROPIC_API_KEY` | Anthropic Claude API å¯†é’¥ | å¯é€‰ |
| `OPENAI_API_KEY` | OpenAI API å¯†é’¥ | å¯é€‰ |
| `GEMINI_API_KEY` | Google Gemini API å¯†é’¥ | å¯é€‰ |
| `DEFAULT_PROVIDER` | é»˜è®¤æä¾›å•† (anthropic/openai/gemini) | å¦ |
| `DEFAULT_MODEL` | é»˜è®¤æ¨¡å‹åç§° | å¦ |

### æä¾›å•†å’Œæ¨¡å‹

**Anthropic Claude**:
- `claude-3-5-sonnet-20241022` (æ¨è)
- `claude-3-opus-20240229`

**OpenAI**:
- `gpt-4-turbo-preview`
- `gpt-3.5-turbo`

**Google Gemini**:
- `gemini-1.5-pro`
- `gemini-1.5-flash`

## ğŸ› ï¸ å¼€å‘

### é¡¹ç›®è„šæœ¬

```bash
# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# æ„å»ºé¡¹ç›®
npm run build

# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç æ£€æŸ¥
npm run lint

# ä¿®å¤ä»£ç é£æ ¼
npm run lint:fix
```

### æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript 5.3+
- **è¿è¡Œæ—¶**: Node.js 18+
- **ä¾èµ–ç®¡ç†**: npm
- **æ„å»ºå·¥å…·**: tsc
- **æµ‹è¯•æ¡†æ¶**: Vitest
- **ä»£ç æ£€æŸ¥**: ESLint


## ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](QUICKSTART.md) - 5 åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—


## å‚è€ƒé¡¹ç›®

- [learn-claude-code](https://github.com/shareAI-lab/learn-claude-code) - åŸå§‹æ•™è‚²é¡¹ç›®
- [Kode](https://github.com/shareAI-lab/Kode) - ç”Ÿäº§çº§å¼€æºAgent
- [Agent Skills Spec](https://github.com/anthropics/agent-skills) - å®˜æ–¹æŠ€èƒ½è§„èŒƒ

## è‡´è°¢

æ„Ÿè°¢ [shareAI Lab](https://github.com/shareAI-lab) æä¾›çš„ä¼˜ç§€æ•™è‚²èµ„æºå’Œè®¾è®¡ç†å¿µã€‚


## ğŸŒŸ ç‰¹åˆ«è¯´æ˜

æœ¬é¡¹ç›®æ˜¯åŠŸèƒ½å®Œæ•´çš„ç”Ÿäº§çº§å·¥å…·ã€‚

---
